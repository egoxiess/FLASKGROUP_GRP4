<!DOCTYPE html>
<html>
<head>
    <title>Binary Tree</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='tree.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
    
<body style="background-color: #772244;">
    <div class="tree-container">  
        <h1 class="tree-title">Binary Tree</h1> 
        
        <div class="back-button-container">
            <a href="/works"><button class="button2">‚Üê Back</button></a>
        </div> 
        
        <div class="tree-body-container">
            <div class="tree" id="tree-wrapper"></div>
        </div>    

        <script>
            var rawTreeData = '{{ tree_data | tojson | safe }}';
            var rawHighlightVal = '{{ highlight_val | tojson | safe }}';
            const treeData = rawTreeData ? JSON.parse(rawTreeData) : null;
            const highlightVal = rawHighlightVal ? JSON.parse(rawHighlightVal) : null;
        </script>
        
        <script src="{{ url_for('static', filename='treerender.js') }}"></script>    

        <form method="POST" action="{{ url_for('binary_tree_page') }}" class="controls">
            <input type="text" id="element-input" name="value" placeholder="Enter value">
            
            <button class="tree-btn" type="submit" name="action" value="insert">Insert Node</button>
            <button class="tree-btn" type="submit" name="action" value="delete">Delete Node</button>
            <button class="tree-btn" type="submit" name="action" value="search">Search Node</button>
        </form>

        {% if message %}
        <div style="text-align: center; margin-top: 20px; font-family: monospace; font-size: 16px; color: white;">
            {{ message }}
        </div>
        {% endif %}

        <div style="text-align: center; margin-top: 20px; font-family: monospace; font-size: 16px;">
            <strong>Post Order Traversal:</strong> {{ elements }}
        </div>
    </div>
</body>     
</html>
